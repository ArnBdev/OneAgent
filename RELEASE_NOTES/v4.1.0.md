# OneAgent v4.1.0 — Consolidation, Readiness, and Cross-Platform CI

Release date: 2025-09-14

## Highlights

- Canonical System Health Tool
  - SystemHealthTool now consumes unified error handling, monitoring metrics, and MCP health.
  - Adds operation summary (5-minute window) via UnifiedMonitoringService.

- Readiness-First Stability
  - OneAgentMemory: added `ready()` and `waitForReady()` probing `/readyz` to avoid test flakes.
  - Tests and helpers use readiness gating for deterministic startup.

- NLACS Persistence Test
  - Canonical NLACS metadata persistence test stabilized with readiness waits.
  - Graceful skip behavior when backend isn’t ready in fast mode.

- A2A Unification (Adapter Path)
  - A2AProtocol delegates to UnifiedAgentCommunicationService to prevent parallel comms.
  - Maintains protocol compatibility while enforcing canonical storage via CommunicationPersistenceAdapter.

- CI Parity (Linux + Windows)
  - Readiness-gated NLACS persistence job mirrored to Windows for cross-platform confidence.
  - Keeps Linux job; adds Windows job symmetry to reduce platform drift.

- Docs & Versioning
  - README updated with a testing quickstart and readiness guidance.
  - CHANGELOG updated; manifests aligned to 4.1.0.

## Upgrade Notes

- No breaking API changes expected for typical consumers.
- Prefer canonical services throughout:
  - Time/ID: `createUnifiedTimestamp()`, `createUnifiedId()`
  - Memory: `OneAgentMemory.getInstance()` readiness helpers
  - Communication: `UnifiedAgentCommunicationService` (no ad-hoc messaging)
  - Monitoring/Error: UnifiedBackboneService monitoring + error taxonomy
- Recommended verification:
  - Run `npm run verify` (type + lint) locally.
  - Optional: run A2A smoke and NLACS persistence tests following readiness guidance.

## Acknowledgements

Thanks to contributors for focusing on canonicalization, stability, and CI parity.

---

If you encounter issues, see `docs/AGENT_COMMUNICATION_CONSOLIDATION_PLAN.md`, `docs/ONEAGENT_ARCHITECTURE.md`, and the Testing section in `README.md`.
